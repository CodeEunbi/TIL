## 객체와 참조

### 가변/불변 객체 개념

1. Mutable(가변)객체 : 생성 후 내용을 변경할 수 있는 객체
- ex) 리스트(list), 딕셔너리(dict), 집합(set)

2. Immutable(불변)객체 : 생성 후 내용을 변경할 수 없는 객체
- ex) 정수(int), 실수(float), 문자열(str), 튜플(tuple)

### 변수 할당의 의미

- 파이썬에서 변수 할당은 객체에 대한 참조를 생성하는 과정
- 변수는 객체의 메모리 주소를 가리키는 Label 역할을 함
- ‘=’연산자를 사용하여 변수에 값을 할당
- 할당 시 새로운 객체가 생성되거나 기존 객체에 대한 참조가 생성

### 메모리 참조 방식

- 변수는 객체의 ‘메모리 주소’를 저장
- 여러 변수가 동일한 객체를 참조할 수 있음

```python
#가변
a = [1, 2, 3, 4]
b = a 
b[0] = 100

print(a)  # [100, 2, 3, 4]
print(b)  # [100, 2, 3, 4]
print(a is b)  #True

#불변
print('\n불변(immutable) 객체 예시')
a = 20
b = a
b = 10

print(f'a의 값: {a}')  #20
print(f'b의 값: {b}')  #10
print(a is b)  #False
```

- 같은 주소를 봤던 것

### id()함수를 사용한 메모리 주소 확인

- id() 함수를 사용하여 객체의 메모리 주소를 확인 가능
- is 연산자를 통해 두 변수가 같은 객체를 참조하는 지 확인 가능

```python
print('\n메모리 주소 확인')
x = [1, 2, 3]
y = x
z = [1, 2, 3]

print(f'x의 id: {id(x)}')
print(f'y의 id: {id(y)}')
print(f'z의 id: {id(z)}')
print(f'x와 y는 같은 객체인가? {x is y}') #True
print(f'x와 z는 같은 객체인가? {x is z}') #False
```

### 가변/불변 메모리 관리 방식

- 가변 객체

 - 생성 후에도 그 내용을 수정할 수 있음 

 - 객체의 내용이 변경되어도 같은 메모리 주소를 유지

- 불변 객체

   - 생성 후 그 값을 변경할 수 없음

  - 새로운 값을 할당하면 새로운 객체가 생성되고, 변수는 새 객체를 참조하게 됨

### 이러한 동작 방식 이유

1. 성능 최적화
- 불변 객체는 변경이 불가능하므로, 여러 변수가 같은 객체를 안전하게 공유할 수 있음
- 가변 객체는 내용 수정이 빈번한 경우 새 객체를 생성하지 않고 직접 수정하여 성능을 향상 시킴

2. 메모리 효율성
- 불변 객체는 동일한 값을 가진 여러 객체가 메모리를 공유할 수 있어 효율적
- 가변 객체는 크기가 큰 데이터를 효율적으로 수정할 수 있음
